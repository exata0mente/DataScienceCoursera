getwd()
q("no")
library(data.table)
DT <- data.table(x=sample(letters[1:3],1E5,TRUE))
DT[,.N,by=x]
DT[,b:=mean(x+w),by=a]
DT <- data.table(x = rep(c("a","b","c"),each=100), y=rnorm(300))
setkey(DT, x)
DT['a']
DT1 <-data.table(x=c('a','a','b','dt1'),y=1:4)
DT2 <- data.table(x=c('a','b','dt2'), z=5:7)
setkey(DT1, x); setkey(DT2, x)
merge(DT1,DT2)
bigdf <- data.frame(x=rnorm(1E6), y=rnorm(1E6))
file <- tempfile() # cria localmente um arquivo temporÃ¡rio
write.table(bigdf,file = file, row.names = FALSE, col.names = TRUE, sep='\t', quote = FALSE)
system.time(fread(file))
system.time(read.table(file, header = TRUE, sep="\t"))
q("no")
setwd("~/Projetos/DataScienceCoursera/3_GettingAndCleaningData/Semana2/objetos/")
install.packages("RMariaDB")
install.packages("RMariaDB")
library("RMariaDB")
help("dbConnect,MariaDBDriver-method")
save.image("useRMySQL.R")
MariaDB()
ucscDb <- dbConnect(drv = MariaDB(), username="genome", host="genome-mysql.cse.ucsc.edu")
result <- dbGetQuery(ucscDb,"show databases;")
result
head(result)
?dbGetQuery
dbDisconnect(ucscDb)
dbDisconnect(ucscDb)
ucscDb
ucscDb
class(ucscDb)
class(result)
hg19 <- dbConnect(MariaDB(), username="genome", db="hg19", host="genome-mysql.cse.ucsc.edu")
allTables <- dbListTables(hg19)
length(allTables)
allTables2 <- dbGetQuery(hg19, "show tables;")
class(allTables)
class(allTables2)
dbListFields(conn = hg19, "affyU133Plus2")
dbGetQuery(conn = hg19, statement = "select count(*) form affyU133Plus2")
dbGetQuery(conn = hg19, statement = "select count(*) form affyU133Plus2;")
dbGetQuery(conn = hg19, statement = "select count(*) from affyU133Plus2")
?`dbReadTable,MariaDBConnection,character-method`
affyData <- dbReadTable(hg19, "affyU133Plus2")
rm(allTables2)
class(affyData)
head(affyData)
head(affyData, 1)
names(affyData)
?`dbSendQuery,MariaDBConnection,character-method`
query <- dbSendQuery(hg19, "select * from affyU133Plus2 where misMatches between 1 and 3")
query
affyMis <- fetch(query)
?fetch
affyMis <- dbFetch(query)
affyMis2 <- dbGetQuery(hg19, "select * from affyU133Plus2 where misMatches between 1 and 3")
rm(affyMis2)
affyMis <- dbFetch(query,n = 10)
affyMis <- fetch(query)
affyMis <- dbFetch(query)
query <- dbSendQuery(hg19, "select * from affyU133Plus2 where misMatches between 1 and 3")
affyMis <- fetch(query)
dbClearResult(query)
affyMis <- fetch(query)
affyMis <- dbFetch(query)
rm(affyMis)
rm(query)
query <- dbSendQuery(hg19, "select * from affyU133Plus2 where misMatches between 1 and 3")
affyMis <- fetch(query); quantile(affyMis$misMatches)
affyMis <- dbFetch(query); quantile(affyMis$misMatches)
affyMis$misMatches
save.image("useRMySQL.R")
q("No")
q("no")
